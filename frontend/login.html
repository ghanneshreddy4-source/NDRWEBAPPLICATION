<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NDR - Login</title>
  <link rel="stylesheet" href="assets/css/base.css" />
  <link rel="stylesheet" href="assets/css/auth.css" />
</head>

<body>
  <div class="auth-wrapper">
    <div class="auth-layout">
      <div class="auth-illustration auth-illustration-left">
        <div class="illus-badge">ğŸ‘©â€ğŸ“</div>
        <h2 class="illus-title">Learn Smarter</h2>
        <p class="illus-text">Topic-wise practice, instant feedback, and focused revision.</p>
      </div>

      <div class="auth-card">
        <h1 class="auth-title">Welcome Back</h1>
        <p class="auth-subtitle">Login with your password or a one-time code.</p>

        <!-- Toggle Buttons -->
        <div style="display:flex;justify-content:center;gap:1rem;margin-bottom:1rem;">
          <button id="togglePasswordLogin" class="auth-button auth-outline">Password Login</button>
          <button id="toggleOtpLogin" class="auth-button auth-outline">OTP Login</button>
        </div>

        <!-- PASSWORD LOGIN FORM -->
        <form id="passwordLoginForm" class="auth-form" autocomplete="on" style="display:block;">
          <div class="auth-field">
            <label>Email</label>
            <input type="email" id="pwEmail" required placeholder="you@example.com" />
          </div>

          <div class="auth-field">
            <label>Password</label>
            <input type="password" id="pwPassword" required placeholder="Enter your password" />
          </div>

          <p class="auth-error" id="pwError"></p>
          <div style="display:flex;gap:.6rem;justify-content:center;margin-top:10px;">
            <button id="pwLoginBtn" type="submit" class="auth-button">Login</button>
          </div>
        </form>

        <!-- OTP LOGIN FORM -->
        <form id="loginForm" class="auth-form" autocomplete="on" style="display:none;">
          <div class="auth-field">
            <label>Email</label>
            <input type="email" id="loginEmail" required placeholder="you@example.com" />
          </div>

          <div id="loginOtpRow" class="auth-field" style="display:none;">
            <label>One-time code</label>
            <input type="text" id="loginOtp" placeholder="Enter code" maxlength="8" />
            <div style="display:flex;gap:0.6rem;margin-top:0.6rem;justify-content:center">
              <button id="verifyOtpBtn" type="button" class="auth-button">Verify code</button>
              <button id="resendOtpBtn" type="button" class="auth-button auth-outline">Resend</button>
            </div>
            <p class="auth-error" id="otpError" style="margin-top:0.4rem"></p>
          </div>

          <p class="auth-error" id="loginError"></p>
          <div style="display:flex;gap:.6rem;justify-content:center;margin-top:10px;">
            <button id="sendOtpBtn" type="button" class="auth-button">Send code</button>
          </div>
        </form>

        <p class="auth-footer">New here? <a href="register.html">Create an account</a></p>
        <p class="auth-footer">Are you an admin? <a href="admin/admin-login.html">Go to Admin Login</a></p>
      </div>

      <div class="auth-illustration auth-illustration-right">
        <div class="illus-badge">ğŸ“Š</div>
        <h2 class="illus-title">Track Progress</h2>
        <p class="illus-text">Visual dashboards and analytics for students and trainers.</p>
      </div>
    </div>
  </div>

  <script src="assets/js/storage.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/auth.js"></script>
</body>
</html>
